<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Elite Sanctuary Timer</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css?family=Asap+Condensed|Orbitron&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="container">
      <!-- Project title -->
      <h1>Elite Sanctuary Timer</h1>
      <!-- Project description -->
      <p class="desc">
        Have you ever played Warframe? Have you dabbled in the hardcore mode
        known as Elite Sanctuary? If you have, are you tired of counting down
        the seconds before you can nuke the map, but more often than not end up
        locked out of that sweet, sweet nuking moment? Fret no longer! This
        Elite Sanctuary Timer comes with a hands-free looping timer that chimes
        gently every fifteen seconds, giving you five extra seconds to perfectly
        time that oh so sweet nuke. Start and stop options also included to
        prevent slow burning insanity!
      </p>
      <div class="btn-container">
        <!-- Start timer button -->
        <button
          class="btn"
          id="btn-start"
          onClick="startTimer();makeStartInv();makeStopVis();"
        >
          START
        </button>
        <!-- Stop timer button -->
        <button
          class="btn"
          id="btn-stop"
          onClick="stopTimer();makeStopInv();makeStartVis();"
        >
          STOP
        </button>
      </div>
    </div>

    <!-- JavaScript -->
    <script>
      // Global variable for setInterval(), used in startTimer & stopTimer functions
      var myInterval;

      // Function sets approx 15 sec loop & adds chime sound
      function startTimer() {
        myInterval = setInterval(function() {
          var myTimeout = setTimeout(function() {
            // Sound file access/play
            var audio = new Audio("./sound/tone.wav");
            var playPromise = audio.play();
            if (playPromise !== undefined) {
              playPromise.then(function() {}).catch(function(error) {});
            }
          }, 100);
        }, 15000);
      }

      // Function stops timer
      function stopTimer() {
        clearInterval(myInterval);
      }

      window.onload = function() {
        document.getElementById("btn-stop").style.display = "none";
      };

      function makeStopInv() {
        document.getElementById("btn-stop").style.display = "none";
      }

      function makeStopVis() {
        document.getElementById("btn-stop").style.display = "block";
      }

      function makeStartInv() {
        document.getElementById("btn-start").style.display = "none";
      }

      function makeStartVis() {
        document.getElementById("btn-start").style.display = "block";
      }
    </script>
  </body>
</html>
